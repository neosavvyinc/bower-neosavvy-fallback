/*! neosavvy-fallback - v0.0.5 - 2014-04-28
* Copyright (c) 2014 Neosavvy, Inc.; Licensed  */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){(function(){function d(a,b){function c(a){if(c[a]!==q)return c[a];var d;if("bug-string-char-index"==a)d="a"!="a"[0];else if("json"==a)d=c("json-stringify")&&c("json-parse");else{var f;if("json-stringify"==a){d=b.stringify;var h="function"==typeof d&&s;if(h){(f=function(){return 1}).toJSON=f;try{h="0"===d(0)&&"0"===d(new e)&&'""'==d(new g)&&d(r)===q&&d(q)===q&&d()===q&&"1"===d(f)&&"[1]"==d([f])&&"[null]"==d([q])&&"null"==d(null)&&"[null,null,null]"==d([q,r,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[f,!0,!1,null,"\x00\b\n\f\r	"]})&&"1"===d(null,f)&&"[\n 1,\n 2\n]"==d([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==d(new j(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==d(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==d(new j(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==d(new j(-1))}catch(i){h=!1}}d=h}if("json-parse"==a){if(d=b.parse,"function"==typeof d)try{if(0===d("0")&&!d(!1)){f=d('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var k=5==f.a.length&&1===f.a[0];if(k){try{k=!d('"	"')}catch(l){}if(k)try{k=1!==d("01")}catch(m){}if(k)try{k=1!==d("1.")}catch(n){}}}}catch(o){k=!1}d=k}}return c[a]=!!d}a||(a=h.Object()),b||(b=h.Object());var e=a.Number||h.Number,g=a.String||h.String,i=a.Object||h.Object,j=a.Date||h.Date,k=a.SyntaxError||h.SyntaxError,l=a.TypeError||h.TypeError,m=a.Math||h.Math,n=a.JSON||h.JSON;"object"==typeof n&&n&&(b.stringify=n.stringify,b.parse=n.parse);var o,p,q,i=i.prototype,r=i.toString,s=new j(-0xc782b5b800cec);try{s=-109252==s.getUTCFullYear()&&0===s.getUTCMonth()&&1===s.getUTCDate()&&10==s.getUTCHours()&&37==s.getUTCMinutes()&&6==s.getUTCSeconds()&&708==s.getUTCMilliseconds()}catch(t){}if(!c("json")){var u=c("bug-string-char-index");if(!s)var v=m.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(a,b){return w[b]+365*(a-1970)+v((a-1969+(b=+(b>1)))/4)-v((a-1901+b)/100)+v((a-1601+b)/400)};if((o=i.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=r?o=function(a){var b=this.__proto__;return a=a in(this.__proto__=null,this),this.__proto__=b,a}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var c,d,e,g=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,d=new c;for(e in d)o.call(d,e)&&g++;return c=d=null,g?p=2==g?function(a,b){var c,d={},e="[object Function]"==r.call(a);for(c in a)e&&"prototype"==c||o.call(d,c)||(d[c]=1,!o.call(a,c))||b(c)}:function(a,b){var c,d,e="[object Function]"==r.call(a);for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(d="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),p=function(a,b){var c,e="[object Function]"==r.call(a),g=!e&&"function"!=typeof a.constructor&&f[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(c in a)e&&"prototype"==c||!g.call(a,c)||b(c);for(e=d.length;c=d[--e];g.call(a,c)&&b(c));}),p(a,b)},!c("json-stringify")){var y={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},z=function(a,b){return("000000"+(b||0)).slice(-a)},A=function(a){for(var b='"',c=0,d=a.length,e=!u||d>10,f=e&&(u?a.split(""):a);d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=y[g];break;default:if(32>g){b+="\\u00"+z(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},B=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,s,t,u;try{h=b[a]}catch(w){}if("object"==typeof h&&h)if(i=r.call(h),"[object Date]"!=i||o.call(h,"toJSON"))"function"==typeof h.toJSON&&("[object Number]"!=i&&"[object String]"!=i&&"[object Array]"!=i||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(x){for(k=v(h/864e5),i=v(k/365.2425)+1970-1;x(i+1,0)<=k;i++);for(j=v((k-x(i,0))/30.42);x(i,j+1)<=k;j++);k=1+k-x(i,j),m=(h%864e5+864e5)%864e5,n=v(m/36e5)%24,s=v(m/6e4)%60,t=v(m/1e3)%60,m%=1e3}else i=h.getUTCFullYear(),j=h.getUTCMonth(),k=h.getUTCDate(),n=h.getUTCHours(),s=h.getUTCMinutes(),t=h.getUTCSeconds(),m=h.getUTCMilliseconds();h=(0>=i||i>=1e4?(0>i?"-":"+")+z(6,0>i?-i:i):z(4,i))+"-"+z(2,j+1)+"-"+z(2,k)+"T"+z(2,n)+":"+z(2,s)+":"+z(2,t)+"."+z(3,m)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=r.call(h),"[object Boolean]"==i)return""+h;if("[object Number]"==i)return h>-1/0&&1/0>h?""+h:"null";if("[object String]"==i)return A(""+h);if("object"==typeof h){for(a=g.length;a--;)if(g[a]===h)throw l();if(g.push(h),u=[],b=f,f+=e,"[object Array]"==i){for(j=0,a=h.length;a>j;j++)i=B(j,h,c,d,e,f,g),u.push(i===q?"null":i);a=u.length?e?"[\n"+f+u.join(",\n"+f)+"\n"+b+"]":"["+u.join(",")+"]":"[]"}else p(d||h,function(a){var b=B(a,h,c,d,e,f,g);b!==q&&u.push(A(a)+":"+(e?" ":"")+b)}),a=u.length?e?"{\n"+f+u.join(",\n"+f)+"\n"+b+"}":"{"+u.join(",")+"}":"{}";return g.pop(),a}};b.stringify=function(a,b,c){var d,e,g,h;if(f[typeof b]&&b)if("[object Function]"==(h=r.call(b)))e=b;else if("[object Array]"==h){g={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=r.call(i),("[object String]"==h||"[object Number]"==h)&&(g[i]=1));}if(c)if("[object Number]"==(h=r.call(c))){if(0<(c-=c%1))for(d="",c>10&&(c=10);d.length<c;d+=" ");}else"[object String]"==h&&(d=10>=c.length?c:c.slice(0,10));return B("",(i={},i[""]=a,i),e,g,d,"",[])}}if(!c("json-parse")){var C,D,E=g.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},G=function(){throw C=D=null,k()},H=function(){for(var a,b,c,d,e,f=D,g=f.length;g>C;)switch(e=f.charCodeAt(C)){case 9:case 10:case 13:case 32:C++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=u?f.charAt(C):f[C],C++,a;case 34:for(a="@",C++;g>C;)if(e=f.charCodeAt(C),32>e)G();else if(92==e)switch(e=f.charCodeAt(++C)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=F[e],C++;break;case 117:for(b=++C,c=C+4;c>C;C++)e=f.charCodeAt(C),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||G();a+=E("0x"+f.slice(b,C));break;default:G()}else{if(34==e)break;for(e=f.charCodeAt(C),b=C;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++C);a+=f.slice(b,C)}if(34==f.charCodeAt(C))return C++,a;G();default:if(b=C,45==e&&(d=!0,e=f.charCodeAt(++C)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(C+1),e>=48&&57>=e)&&G();g>C&&(e=f.charCodeAt(C),e>=48&&57>=e);C++);if(46==f.charCodeAt(C)){for(c=++C;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==C&&G(),C=c}if(e=f.charCodeAt(C),101==e||69==e){for(e=f.charCodeAt(++C),43!=e&&45!=e||C++,c=C;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==C&&G(),C=c}return+f.slice(b,C)}if(d&&G(),"true"==f.slice(C,C+4))return C+=4,!0;if("false"==f.slice(C,C+5))return C+=5,!1;if("null"==f.slice(C,C+4))return C+=4,null;G()}return"$"},I=function(a){var b,c;if("$"==a&&G(),"string"==typeof a){if("@"==(u?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=H(),"]"!=a;c||(c=!0))c&&(","==a?(a=H(),"]"==a&&G()):G()),","==a&&G(),b.push(I(a));return b}if("{"==a){for(b={};a=H(),"}"!=a;c||(c=!0))c&&(","==a?(a=H(),"}"==a&&G()):G()),","!=a&&"string"==typeof a&&"@"==(u?a.charAt(0):a[0])&&":"==H()||G(),b[a.slice(1)]=I(H());return b}G()}return a},J=function(a,b,c){c=K(a,b,c),c===q?delete a[b]:a[b]=c},K=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if("[object Array]"==r.call(e))for(d=e.length;d--;)J(e,d,c);else p(e,function(a){J(e,a,c)});return c.call(a,b,e)};b.parse=function(a,b){var c,d;return C=0,D=""+a,c=I(H()),"$"!=H()&&G(),C=D=null,b&&"[object Function]"==r.call(b)?K((d={},d[""]=c,d),"",b):c}}}return b.runInContext=d,b}var e="function"==typeof define&&define.amd,f={"function":!0,object:!0},g=f[typeof c]&&c&&!c.nodeType&&c,h=f[typeof window]&&window||this,i=g&&f[typeof b]&&b&&!b.nodeType&&"object"==typeof a&&a;if(!i||i.global!==i&&i.window!==i&&i.self!==i||(h=i),g&&!e)d(h,g);else{var j=h.JSON,k=h.JSON3,l=!1,m=d(h,h.JSON3={noConflict:function(){return l||(l=!0,h.JSON=j,h.JSON3=k,j=k=null),m}});h.JSON={parse:m.parse,stringify:m.stringify}}e&&define(function(){return m})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b){var c=c||{};c.Core=c.Core||{},c.Core.Utils=c.Core.Utils||{},b.exports=c.Core.Utils.BrowserUtils=function(){function a(a){d=e=f=g=null,a=a.toLowerCase();try{var b=/(opr|opera)(?:.*version)?(?:[ \/])?([\w.]+)/.exec(a),c=/(msie|trident|firefox|chrome|safari)(?:.*version)?(?:[ \/])?([\w.]+)/.exec(a);if(d=b&&b.length?b[1]:c[1],"trident"===d){d=h.BROWSER.INTERNET_EXPLORER;var i=String(parseFloat(c[2])+4);e=2===i.length?i+".0":i}else"opera"===d||"opr"===d?(d="opr",e=b[2]):"safari"===d&&-1===a.indexOf("phantomjs")?-1!==a.indexOf("crios")?(d=h.BROWSER.CHROME,e=/(crios\/)((\d|\.)*)/g.exec(a)[2]):e=/(version)(?:.*version)?(?:[ \/])?([\w.]+)/.exec(a)[2]:e=c[2]}catch(j){console.warn("Trouble getting the browser or browser version, check the code or report a bug with the userAgent listed.")}try{var k=/(android)/.exec(a);f=k&&k.length?"android":/(mac|win|linux|freebsd|mobile|iphone|ipod|ipad|android|blackberry|j2me|webtv)/.exec(a)[1]}catch(j){console.warn("Trouble getting the os, check the code or report a bug with the userAgent listed.")}try{switch(f){case h.OS.OSX:case h.OS.IPHONE:case h.OS.IPAD:case h.OS.WINDOWS:case h.OS.ANDROID:case h.OS.BLACKBERRY:case h.OS.WEB_TV:g=/(mac\sos\sx\s|iphone os\s|ipad;\scpu\sos\s|windows nt\s|android\s|blackberry\s|webtv\/)((\d|\.|_)*)/.exec(a)[2].replace(/_/g,".");break;default:g=null}}catch(l){console.warn("Trouble getting the os version, check the code or report a bug with the userAgent listed.")}}function b(){return{browser:d,browserVersion:e,os:f,osVersion:g}}function c(a){return a.toLowerCase().replace(/^.|_./g,function(a){return a.toUpperCase()}).replace(/_/g,"")}var d,e,f,g,h={OS:{OSX:"mac",WINDOWS:"win",LINUX:"linux",FREE_BSD:"freebsd",IPHONE:"iphone",IPOD:"ipod",IPAD:"ipad",ANDROID:"android",BLACKBERRY:"blackberry",J2ME:"j2me",WEB_TV:"webtv"},BROWSER:{INTERNET_EXPLORER:"msie",FIREFOX:"firefox",CHROME:"chrome",SAFARI:"safari",OPERA:"opr"}};a(window.navigator.userAgent);var i={CONSTANTS:h,info:b};for(var j in b())i[j]=function(a){return function(){return b()[a]}}(j);for(var j in h.BROWSER)i["is"+c(j)]=function(a){return function(){return d===h.BROWSER[a]}}(j);for(var j in h.OS)i["is"+c(j)]=function(a){return function(){return f===h.OS[a]}}(j);return window.jasmine&&(i.reload=a),i}()},{}],3:[function(a){var b=a("./fbquery"),c=a("./fbdash"),d=a("./browser"),e=a("../lib/json3/json3.min");!function(a,b,c,d,e,f,g){function h(a){return a&&a!==!1&&"0"!==a}function i(a){return a===!1||"false"===a||0===a||"0"===a}function j(a){for(var b in a)p["ALLOW_"+b]=null,p["MIN_"+b]=null,p["MAX_"+b]=null}function k(a){function b(a,b){for(;a.length<b;)a+="0";return a}function c(a,c){if(a===c)return!0;a=a.split("."),c=c.split(".");for(var d=0;d<Math.max(a.length,c.length);d++)if(0===d){if(parseInt(a[d])!==parseInt(c[d]))return parseInt(a[d])>parseInt(c[d])}else{if(!(a.length>d&&c.length>d))return a.length>d?!0:!1;var e=Math.max(a[d].length,c[d].length),f=parseInt(b(a[d],e)),g=parseInt(b(c[d],e));if(f!==g)return f>g}}a=String(a),this.isGreaterThanEqualTo=function(b){return c(a,String(b))},this.isLessThanEqualTo=function(b){return c(b,String(a))}}function l(a,b){for(var d=g.parse(g.stringify(p)),e=0;e<a.attributes.length;e++){var j=a.attributes[e].name.replace(/-/g,"_").toUpperCase();void 0!==d[j]&&(d[j]=a.attributes[e].value)}var l=f.invert(c.CONSTANTS.BROWSER)[b.browser],m=f.invert(c.CONSTANTS.OS)[b.os];return h(d.DENY_ALL_BROWSERS_BY_DEFAULT)&&!h(d["ALLOW_"+l])||h(d.DENY_ALL_OS_BY_DEFAULT)&&!h(d["ALLOW_"+m])||i(d["ALLOW_"+l])||i(d["ALLOW_"+m])?!1:d["MIN_"+l]&&!new k(b.browserVersion).isGreaterThanEqualTo(d["MIN_"+l])||d["MAX_"+l]&&!new k(b.browserVersion).isLessThanEqualTo(d["MAX_"+l])||d["MIN_"+m]&&!new k(b.osVersion).isGreaterThanEqualTo(d["MIN_"+m])||d["MAX_"+m]&&!new k(b.osVersion).isLessThanEqualTo(d["MAX_"+m])?!1:!0}function m(a){if(a.getAttribute("bootstrap-script"))d.getScript(a.getAttribute("bootstrap-script"));else{if(!b)throw"You are a bypassing browser fallback, but you have defined no bootstrap-script on your ns-fallback element.";b.element(document).ready(function(){b.bootstrap(a,[a.getAttribute("ns-fallback")])})}}function n(a,b){if(a=d(a),a.attr("fallback-element")&&(a=d(a.find(a.attr("fallback-element")))),!a)throw"Fallback element not found in dom, check your specification!";a.empty(),a.attr("fallback-template")?d.get(a.attr("fallback-template")).done(function(d){a.append(d.replace(/{{browser}}/g,f.invert(c.CONSTANTS.BROWSER)[b.browser].toLowerCase().replace(/_/g," ")).replace(/{{browserVersion}}/g,b.browserVersion).replace(/{{os}}/g,f.invert(c.CONSTANTS.OS)[b.os].toLowerCase().replace(/_/g," ")).replace(/{{osVersion}}/g,b.osVersion))}).fail(function(){a.append(q),console.error("The fallback template was not found, check your path and server setup.")}):a.append(q)}function o(){var b,d=[],e=document.getElementsByTagName("*");a.Element&&a.Element.prototype&&a.Element.prototype.hasAttribute||(b=function(a){return"undefined"!=typeof this[a]});for(var f=0;f<e.length;f++)b&&(e[f].hasAttribute=b),e[f].hasAttribute("ns-fallback")&&d.push(e[f]);if(d.length)for(var g=c.info(),f=0;f<d.length;f++)l(d[f],g)?m(d[f]):n(d[f],g);else console.warn("You are including the fallback library, but are clearly not instantiating it anywhere. Just remove it.")}if(!c)throw"You must include neosavvy-javascript-core to use the fallback library!";var p={DENY_ALL_BROWSERS_BY_DEFAULT:!1,DENY_ALL_OS_BY_DEFAULT:!1},q="<div><label>Your browser is not supported.</label></div>";j(c.CONSTANTS.BROWSER),j(c.CONSTANTS.OS),d(document).ready(o),a.jasmine&&(a.Neosavvy=a.Neosavvy||{},a.Neosavvy.Fallback=a.Neosavvy.Fallback||{},Neosavvy.Fallback.evaluateDom=o,Neosavvy.Fallback.defaultTemplate=q)}(window,window.angular,d,b,b,c,e)},{"../lib/json3/json3.min":1,"./browser":2,"./fbdash":4,"./fbquery":5}],4:[function(a,b){b.exports=window.fbDash={invert:function(a){var b={};for(var c in a)b["object"==typeof a[c]?JSON.stringify(a[c]):a[c]]=c;return b}}},{}],5:[function(require,module,exports){module.exports=window.fbQuery=function(window,undefined){function _fn(a){return a=a||document,this.ready=function(a){window.onload=a},this.find=function(b){var c;return a&&b&&(c="#"===b.charAt(0)?[document.getElementById(b.replace(/#/g,""))]:"."===b.charAt(0)?a.getElementsByClassName(b.replace(/\./g,"")):a.getElementsByTagName(b)),c&&c.length?c[0]:null},this.attr=function(b){return a?a.getAttribute(b):null},this.empty=function(){for(;a.firstChild;)a.removeChild(a.firstChild);return this},this.append=function(b){return a.innerHTML+=b,this},this}return _fn.ajax=function(a){if(!a.url)throw"You must provide a url param in order to make an ajax request with fbQuery.";var b,c,d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===d.readyState){var a=d.responseText;200===d.status&&b?b(a,d.status,d.getAllResponseHeaders()):200!==d.status&&c&&c(a,d.status,d.getAllResponseHeaders())}},d.onerror=function(){if(c){var a=d.responseText;c(a,d.status,d.getAllResponseHeaders())}};var e=a.data;return e&&!_.isString(e)&&(e=JSON.stringify(e)),d.withCredentials=a.cors||!1,d.open(a.method||"GET",a.url,!0),d.send(e),this.done=function(a){return b=a,this},this.fail=function(a){return c=a,this},this},_fn.get=function(a){return _fn.ajax({url:a})},_fn.getScript=function(path){return _fn.ajax({url:path,type:"script"}).done(eval)},_fn}(window,void 0)},{}]},{},[2,3,4,5]);